<div *ngIf="isShowPcGuide" class="pc-guide pc-layout">
  本订单标配可选片{{sceneFormComponent.requireNum}}张,第一步建议您先粗选{{sceneFormComponent.requireNum*2}}张左右,然后进行细选 <a href="javascript:;" (click)="onClosePcTip()" class="btn-close-guide">我知道了</a>
</div>

<scene-form [show]="currentStatus!==''" [photoInfoId]="photoInfoId"
            (onTabSceneCb)="onTabSceneCb($event)">
</scene-form>
<div class="pc-content pc-layout">
  <pcphoto
    [list]="photoList"
    [type]="'raw'"
    [status]="currentStatus"
    [isShowDelete] = "sceneFormComponent.checkedNum !== sceneFormComponent.requireNum || currentStatus === '0'"
    (choose)="onChoose($event)"
    (preview)="onPcPreview($event)"
  ></pcphoto>
</div>

<div class="content layout">
  <div class="flow-list clearfix" >
    <div class="flow-list-col" id="flow-list-1">
      <photo
        [list]="photoCols.col1.list"
        [type]="'raw'"
        [status]="currentStatus"
        [isShowDelete] = "sceneFormComponent.checkedNum !== sceneFormComponent.requireNum || currentStatus === ''"
        (choose)="onChoose($event)"
        (preview)="onPreview($event)"
      ></photo>
    </div>
    <div class="flow-list-col" id="flow-list-2">
      <photo
        [list]="photoCols.col2.list"
        [type]="'raw'"
        [status]="currentStatus"
        [isShowDelete] = "sceneFormComponent.checkedNum !== sceneFormComponent.requireNum || currentStatus === ''"
        (choose)="onChoose($event)"
        (preview)="onPreview($event)"
      ></photo>
    </div>
  </div>
</div>
<div class="none-data" *ngIf="photoList.length==0&&!isLoadingData">没有找到任何数据</div>

<loading *ngIf="isLoadingData"></loading>

<pagination [page]="page" [style]="'loadmore'" [loadingData]="isLoadingData" (loadMore)="getPhotos()"></pagination>

<div class="margin-bottom"></div>

<div class="toolbar" *ngIf="currentStatus===''">
  <div class="toolbar-inner layout">
    <p class="toolbar-text">
      <span class="icon-ok" *ngIf="sceneFormComponent.checkedNum>=sceneFormComponent.requireNum"></span>您已初选{{sceneFormComponent.checkedNum}}张
      <a href="javascript:;" (click)="onNext()" class="btn-next" [class.btn-next-active]="sceneFormComponent.checkedNum>=sceneFormComponent.requireNum">进入精选</a>
    </p>
  </div>
</div>

<div class="toolbar" *ngIf="currentStatus==='1'">
  <div class="toolbar-inner layout">
    <p class="toolbar-text">
      <a href="javascript:;" (click)="onBack()" class="btn-back"> < 返回重选</a>
      <a href="javascript:;" (click)="onFinish()" class="btn-next btn-next-active">确认提交 ( {{sceneFormComponent.checkedNum}} )</a>
    </p>
  </div>
</div>




<viewer *ngIf="isPreview"
        [status]="currentStatus"
        (close)="onClosePreview()"
        (choose)="onChoose($event)"
        [currentIndex]="previewIndex"
        [photoList]="photoList"></viewer>


<pcviewer  *ngIf="isPcPreview"
           [status]="currentStatus"
           (close)="onClosePcPreview()"
           (choose)="onChoose($event)"
           [currentIndex]="previewIndex"
           [list]="photoList"></pcviewer>


<tip
  *ngIf="isShowGuide"
  (close)="onCloseTip()"
  btnText = '我知道了'>
  本订单标配可选片{{sceneFormComponent.requireNum}}张, 第一步建议您初选{{sceneFormComponent.requireNum*2}}张左右, 然后进行细选!
</tip>

<tip
  *ngIf="isShowTip"
  (close)="onCloseTip()"
  btnText = '我知道了'>
  你正好选择{{sceneFormComponent.requireNum}}张原片
</tip>


<success *ngIf="isShowSuccess" (close)="onCloseSuccess()">
  操作成功
</success>

<confirm
  *ngIf="isShowConfirm"
  [title]="'确认删除?'"
  (confirm)="deleteConfirm($event)"
  (cancel)="deleteCancel($event)">
  确认删除选片吗？
</confirm>

