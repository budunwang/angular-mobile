<scene-form [photoInfoId]="photoInfoId"
            (onTabSceneCb)="onTabSceneCb($event)"
>
</scene-form>
<div class="pc-content pc-layout">
  <div class="pc-photo-list clearfix">
    <div class="pc-photo-item" *ngFor="let photo of photoList;let i=index">
      <div class="pc-photo-content">
        <div class="pc-photo-box" (click)="onPreview(photo.listIndex, photo)">
          <div class="pc-choose-mask" *ngIf="photo.status==1">
          </div>
          <img  src="{{photo.imgKey}}"
                class="pc-photo-image"/>
        </div>
        <div class="pc-photo-info clearfix">
          <span class="pc-photo-name">原片{{photo.imgIndex}}</span>
          <a href="javascript:;" class="pc-btn-choose" [class.pc-choose]="photo.status==1" (click)="onChoose(photo)">{{photo.status == 1 ? '取消选择':'选择'}}</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="content layout">
  <div class="flow-list clearfix">
    <div class="flow-list-col">
      <div class="photo-item" *ngFor="let photo of photoCols.col1.list;let i=index">
      <div class="photo-content">
        <div class="photo-box" (click)="onPreview(photo.listIndex, photo)">
          <div class="choose-mask" *ngIf="photo.status==1">
            <img src="../../../images/icon-choosed.png" class="choose-mask-image" />
          </div>
          <img  src="{{photo.imgKey}}"
                class="photo-image"/>
        </div>
        <div class="photo-info clearfix">
          <span class="photo-name">原片{{photo.imgIndex}}</span>
          <a href="javascript:;" class="btn-choose" [class.choose]="photo.status==1" (click)="onChoose(photo)">{{photo.status == 1 ? '取消选择':'选择'}}</a>
        </div>
      </div>
    </div>
    </div>
    <div class="flow-list-col">
      <div class="photo-item" *ngFor="let photo of photoCols.col2.list;let i=index">
        <div class="photo-content">
          <div class="photo-box" (click)="onPreview(photo.listIndex, photo)">
            <div class="choose-mask" *ngIf="photo.status==1">
              <img src="../../../images/icon-choosed.png" class="choose-mask-image" />
            </div>
            <img  src="{{photo.imgKey}}"
                  class="photo-image"/>
          </div>
          <div class="photo-info clearfix">
            <span class="photo-name">原片{{photo.imgIndex}}</span>
            <a href="javascript:;" class="btn-choose" [class.choose]="photo.status==1"   (click)="onChoose(photo)">{{photo.status == 1 ? '取消选择':'选择'}}</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="none-data" *ngIf="photoList.length==0&&!isLoadingData">没有找到任何数据</div>
<loading *ngIf="isLoadingData"></loading>
<pagination [page]="page" [style]="'loadmore'" [loadingData]="isLoadingData" (loadMore)="getPhotos()"></pagination>
<div class="margin-bottom"></div>
<div class="toolbar">
  <div class="toolbar-inner layout">
    <p class="toolbar-text">
      <span class="icon-ok"></span>您已初选{{sceneFormComponent.checkedNum}}张
      <a href="javascript:;" (click)="onFinish()" class="btn-next" [class.btn-next-active]="sceneFormComponent.checkedNum>=sceneFormComponent.requireNum*2">进入精选</a>
    </p>
  </div>
</div>

<viewer *ngIf="isPreview"
        (close)="onClosePreview()"
        (choose)="onChoose($event)"
        [currentIndex]="previewIndex"
        [photoList]="photoList"></viewer>

<tip
  *ngIf="isShowGuide"
  (close)="onCloseTip()"
  btnText = '我知道了'>
  本订单标配可选片{{sceneFormComponent.requireNum}}张, 第一步建议您初选{{sceneFormComponent.requireNum*2}}张左右, 然后进行细选!
</tip>

<success *ngIf="isShowSuccess" (close)="onCloseSuccess()">
  操作成功
</success>

